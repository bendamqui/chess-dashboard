(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){e.exports=a(184)},153:function(e,t,a){e.exports=a.p+"static/media/0.73476783.jpg"},157:function(e,t,a){e.exports=a.p+"static/media/shards-dashboards-logo.60a85991.svg"},182:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),s=a.n(i),o=a(192),c=a(185),l=a(191),m=a(1),u=a(3),h=a.n(u),d=a(8),p=a(9),b=a(12),f=a(10),g=a(11),v=a(13),E=(r.a.Component,a(154)),y=(r.a.Component,"CHANGE"),C="TOGGLE_SIDEBAR",O=new(a(123).Dispatcher),N=a(124),j={menuVisible:!1,navItems:[{title:"Dashboard",to:"/dashboard",htmlBefore:'<i class="material-icons">edit</i>',htmlAfter:""},{title:"Visualization",to:"/visualization",htmlBefore:'<i class="material-icons">view_module</i>',htmlAfter:""}]},S=new(function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(b.a)(this,Object(f.a)(t).call(this))).registerToActions=e.registerToActions.bind(Object(v.a)(Object(v.a)(e))),e.toggleSidebar=e.toggleSidebar.bind(Object(v.a)(Object(v.a)(e))),O.register(e.registerToActions.bind(Object(v.a)(Object(v.a)(e)))),e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"registerToActions",value:function(e){var t=e.actionType;e.payload;switch(t){case C:this.toggleSidebar()}}},{key:"toggleSidebar",value:function(){j.menuVisible=!j.menuVisible,this.emit(y)}},{key:"getMenuState",value:function(){return j.menuVisible}},{key:"getSidebarItems",value:function(){return j.navItems}},{key:"addChangeListener",value:function(e){this.on(y,e)}},{key:"removeChangeListener",value:function(e){this.removeListener(y,e)}}]),t}(N.EventEmitter)),k=(r.a.Component,function(e){e.layout;var t=e.stickyTop,a=h()("main-navbar","bg-white",t&&"sticky-top");return r.a.createElement("div",{className:a},r.a.createElement(m.j,{className:"p-0"},r.a.createElement(m.A,{type:"light",className:"align-items-stretch flex-md-nowrap p-0"})))});k.defaultProps={stickyTop:!0};var w=k,x=a(40),T=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).handleToggleSidebar=a.handleToggleSidebar.bind(Object(v.a)(Object(v.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"handleToggleSidebar",value:function(){O.dispatch({actionType:C})}},{key:"render",value:function(){var e=this.props.hideLogoText;return r.a.createElement("div",{className:"main-navbar"},r.a.createElement(m.A,{className:"align-items-stretch bg-white flex-md-nowrap border-bottom p-0",type:"light"},r.a.createElement(m.B,{className:"w-100 mr-0",href:"#",style:{lineHeight:"25px"}},r.a.createElement("div",{className:"d-table m-auto"},r.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top mr-1",style:{maxWidth:"25px"},src:a(157),alt:"Shards Dashboard"}),!e&&r.a.createElement("span",{className:"d-none d-md-inline ml-1"},"Chess Dashboard"))),r.a.createElement("a",{className:"toggle-sidebar d-sm-inline d-md-none d-lg-none",onClick:this.handleToggleSidebar},r.a.createElement("i",{className:"material-icons"},"\ue5c4"))))}}]),t}(r.a.Component);T.defaultProps={hideLogoText:!1};var M=T,P=function(){return r.a.createElement(m.o,{className:"main-sidebar__search w-100 border-right d-sm-flex d-md-none d-lg-none",style:{display:"flex",minHeight:"45px"}},r.a.createElement(m.s,{seamless:!0,className:"ml-3"},r.a.createElement(m.t,{type:"prepend"},r.a.createElement(m.u,null,r.a.createElement("i",{className:"material-icons"},"search")),r.a.createElement(m.q,{className:"navbar-search",placeholder:"Search for something...","aria-label":"Search"}))))},D=a(190),_=function(e){var t=e.item;return r.a.createElement(m.y,null,r.a.createElement(m.z,{tag:D.a,to:t.to},t.htmlBefore&&r.a.createElement("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlBefore}}),t.title&&r.a.createElement("span",null,t.title),t.htmlAfter&&r.a.createElement("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlAfter}})))},A=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).state={navItems:S.getSidebarItems()},a.onChange=a.onChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){S.addChangeListener(this.onChange)}},{key:"componentWillUnmount",value:function(){S.removeChangeListener(this.onChange)}},{key:"onChange",value:function(){this.setState(Object(x.a)({},this.state,{navItems:S.getSidebarItems()}))}},{key:"render",value:function(){var e=this.state.navItems;return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(m.x,{className:"nav--no-borders flex-column"},e.map(function(e,t){return r.a.createElement(_,{key:t,item:e})})))}}]),t}(r.a.Component),L=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).state={menuVisible:!1,sidebarNavItems:S.getSidebarItems()},a.onChange=a.onChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){S.addChangeListener(this.onChange)}},{key:"componentWillUnmount",value:function(){S.removeChangeListener(this.onChange)}},{key:"onChange",value:function(){this.setState(Object(x.a)({},this.state,{menuVisible:S.getMenuState(),sidebarNavItems:S.getSidebarItems()}))}},{key:"render",value:function(){var e=h()("main-sidebar","px-0","col-12",this.state.menuVisible&&"open");return r.a.createElement(m.h,{tag:"aside",className:e,lg:{size:2},md:{size:3}},r.a.createElement(M,{hideLogoText:this.props.hideLogoText}),r.a.createElement(P,null),r.a.createElement(A,null))}}]),t}(r.a.Component);L.defaultProps={hideLogoText:!1};var z=L,B=function(e){var t=e.contained,a=e.menuItems,n=e.copyright;return r.a.createElement("footer",{className:"main-footer d-flex p-2 px-3 bg-white border-top"},r.a.createElement(m.j,{fluid:t},r.a.createElement(m.C,null,r.a.createElement(m.x,null,a.map(function(e,t){return r.a.createElement(m.y,{key:t},r.a.createElement(m.z,{tag:E.a,to:e.to},e.title))})),r.a.createElement("span",{className:"copyright ml-auto my-auto mr-2"},n))))};B.defaultProps={contained:!1,copyright:"Copyright \xa9 2018 DesignRevision",menuItems:[{title:"Home",to:"#"},{title:"Services",to:"#"},{title:"About",to:"#"},{title:"Products",to:"#"},{title:"Blog",to:"#"}]};var R=B,I=function(e){var t=e.children,a=e.noNavbar,n=e.noFooter;return r.a.createElement(m.j,{fluid:!0},r.a.createElement(m.C,null,r.a.createElement(z,null),r.a.createElement(m.h,{className:"main-content p-0",lg:{size:10,offset:2},md:{size:9,offset:3},sm:"12",tag:"main"},!a&&r.a.createElement(w,null),t,!n&&r.a.createElement(R,null))))};I.defaultProps={noNavbar:!1,noFooter:!0};var F=I,W=a(50),q=a(17),H=a.n(q),V=a(27),G=a(22),U=a.n(G),J=a(28),$=a.n(J);$.a.defaults.LineWithLine=$.a.defaults.line,$.a.controllers.LineWithLine=$.a.controllers.line.extend({draw:function(e){if($.a.controllers.line.prototype.draw.call(this,e),this.chart.tooltip._active&&this.chart.tooltip._active.length){var t=this.chart.tooltip._active[0],a=this.chart.ctx,n=t.tooltipPosition().x,r=this.chart.scales["y-axis-0"].top,i=this.chart.scales["y-axis-0"].bottom;a.save(),a.beginPath(),a.moveTo(n,r),a.lineTo(n,i),a.lineWidth=.5,a.strokeStyle="#ddd",a.stroke(),a.restore()}}});var K=$.a,Q=(a(102),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).prepareChartsData=function(e){var t=e.data,n={datasets:[{hoverBorderColor:"#ffffff",data:[]}],labels:[]};return t.forEach(function(e){var t=a.props.chart.spec,r=t.metrics,i=t.dimensions;n.datasets[0].data.push(e[r[0].field]),n.labels.push(e._id[i[0].field])}),n},a.handleDelete=function(){var e=a.props.chart._id;U.a.delete("/api/charts/".concat(e)).then(function(){a.props.removeChart(a.props.index)})},a.canvasRef=r.a.createRef(),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"getChartData",value:function(){return U.a.get("/api/charts/".concat(this.props.chart._id,"/data")).then(this.prepareChartsData)}},{key:"componentDidMount",value:function(){var e=Object(V.a)(H.a.mark(function e(){var t,a;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChartData();case 2:t=e.sent,a={type:"pie",data:t,options:Object(x.a)({},{legend:{position:"bottom",labels:{padding:25,boxWidth:20}},cutoutPercentage:0,tooltips:{custom:!1,mode:"index",position:"nearest"},plugins:{colorschemes:{scheme:"brewer.Paired12"}}},this.props.chartOptions)},new K(this.canvasRef.current,a);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.title;return r.a.createElement(m.d,{small:!0,className:"h-100"},r.a.createElement(m.g,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0"},e)),r.a.createElement(m.e,{className:"d-flex py-0"},r.a.createElement("canvas",{height:"220",ref:this.canvasRef,className:"blog-users-by-device m-auto"})),r.a.createElement(m.f,{className:"border-top"},r.a.createElement(m.C,null,r.a.createElement(m.h,{className:"text-right"},r.a.createElement(D.a,{to:{pathname:"/chart",state:{chart:this.props.chart}}},r.a.createElement(m.b,{type:"submit",theme:"primary",className:"mb-2 mr-1"},r.a.createElement("i",{className:"material-icons"},"edit"))),r.a.createElement(m.b,{onClick:this.handleDelete,theme:"danger",className:"mb-2 mr-1"},r.a.createElement("i",{className:"material-icons"},"delete"))))))}}]),t}(r.a.Component)),X=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).setSpecMap=function(){var e=a.props.chart.spec,t=e.metrics,n=e.dimensions;a.specMap=[].concat(Object(W.a)(t),Object(W.a)(n)).reduce(function(e,t){return e[t.field]=t,e},{})},a.handleDelete=function(){var e=a.props.chart._id;U.a.delete("/api/charts/".concat(e)).then(function(){a.props.removeChart(a.props.index)})},a.getLabel=function(e,t){return"dateParts"===a.specMap[t].type?a.datePartsToDate(e):e},a.datePartsToDate=function(e){return["year","month","day"].reduce(function(t,a){return t.push(e[a]),t},[]).filter(function(e){return void 0!==e}).join("/")},a.prepareChartsData=function(e){var t=e.data;if(0===t.length)return[];var n=a.props.chart.spec,r=n.metrics,i=n.dimensions[0].field,s=[],o=[],c=[];return t.forEach(function(e,t){s.push(a.getLabel(e._id[i],i)),r.forEach(function(a){var n=a.field,r=a.label,i=e[n];0===t&&(c[n]={label:r,data:[],fill:!1}),c[n].data.push(i)})}),r.forEach(function(e){var t=e.field;o.push(c[t])}),{labels:s,datasets:o}},a.specMap={},a.setSpecMap(),a.canvasRef=r.a.createRef(),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"getChartData",value:function(){return U.a.get("/api/charts/".concat(this.props.chart._id,"/data"))}},{key:"componentDidMount",value:function(){var e=Object(V.a)(H.a.mark(function e(){var t,a;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChartData().then(this.prepareChartsData);case 2:t=e.sent,a={type:"line",data:t,options:{plugins:{colorschemes:{scheme:"brewer.Paired12",override:!0}}}},new $.a(this.canvasRef.current,a);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.title;return r.a.createElement(m.d,{small:!0,className:"h-100"},r.a.createElement(m.g,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0"},e)),r.a.createElement(m.e,{className:"pt-0"},r.a.createElement("canvas",{height:"120",ref:this.canvasRef,style:{maxWidth:"100% !important"}})),r.a.createElement(m.f,{className:"border-top"},r.a.createElement(m.C,null,r.a.createElement(m.h,{className:"text-right"},r.a.createElement(D.a,{to:{pathname:"/chart",state:{chart:this.props.chart}}},r.a.createElement(m.b,{type:"submit",theme:"primary",className:"mb-2 mr-1"},r.a.createElement("i",{className:"material-icons"},"edit"))),r.a.createElement(m.b,{onClick:this.handleDelete,theme:"danger",className:"mb-2 mr-1"},r.a.createElement("i",{className:"material-icons"},"delete"))))))}}]),t}(r.a.Component);X.defaultProps={title:"Users Overview",chartData:{labels:Array.from(new Array(30),function(e,t){return 0===t?1:t}),datasets:[{label:"Current Month",fill:"start",data:[500,800,320,180,240,320,230,650,590,1200,750,940,1420,1200,960,1450,1820,2800,2102,1920,3920,3202,3140,2800,3200,3200,3400,2910,3100,4250],backgroundColor:"rgba(0,123,255,0.1)",borderColor:"rgba(0,123,255,1)",pointBackgroundColor:"#ffffff",pointHoverBackgroundColor:"rgb(0,123,255)",borderWidth:1.5,pointRadius:0,pointHoverRadius:3},{label:"Past Month",fill:"start",data:[380,430,120,230,410,740,472,219,391,229,400,203,301,380,291,620,700,300,630,402,320,380,289,410,300,530,630,720,780,1200],backgroundColor:"rgba(255,65,105,0.1)",borderColor:"rgba(255,65,105,1)",pointBackgroundColor:"#ffffff",pointHoverBackgroundColor:"rgba(255,65,105,1)",borderDash:[3,3],borderWidth:1,pointRadius:0,pointHoverRadius:2,pointBorderColor:"rgba(255,65,105,1)"}]}};var Y=X,Z=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).state={charts:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getChart()}},{key:"removeChart",value:function(e){var t=Object(W.a)(this.state.charts);t.splice(e,1),this.setState({charts:t})}},{key:"createCharts",value:function(){var e=this,t=[];return this.state.charts.forEach(function(a,n){"pie"===a.type?t.push(r.a.createElement(m.h,{key:a._id,lg:"6",md:"6",sm:"12",className:"mb-4"},r.a.createElement(Q,{index:n,title:a.title,chart:a,removeChart:e.removeChart.bind(e)}))):"line"===a.type&&t.push(r.a.createElement(m.h,{key:a._id,lg:"12",md:"6",sm:"12",className:"mb-4"},r.a.createElement(Y,{index:n,title:a.title,chart:a,removeChart:e.removeChart.bind(e)})))}),t}},{key:"getChart",value:function(){var e=this;U()("/api/charts").then(function(t){var a=t.data;e.setState({charts:a})})}},{key:"render",value:function(){return r.a.createElement(m.j,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(m.C,{noGutters:!0,className:"page-header py-4"},r.a.createElement(m.h,{xs:"12",sm:"4",className:"page-title"},r.a.createElement("span",null," Dashboard "),r.a.createElement(D.a,{to:"/chart",className:"text-default"},r.a.createElement("i",{className:"material-icons"},"add")))),r.a.createElement(m.C,null,this.createCharts()))}}]),t}(r.a.Component),ee=a(63),te=a(126),ae=function(e){var t=e.title,a=e.subtitle,n=e.className,i=Object(te.a)(e,["title","subtitle","className"]),s=h()(n,"text-center","text-md-left","mb-sm-0");return r.a.createElement(m.h,Object.assign({xs:"12",sm:"4",className:s},i),r.a.createElement("span",{className:"text-uppercase page-subtitle"},a),r.a.createElement("h3",{className:"page-title"},t))},ne=a(72),re=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.preparePayload(),n=a.state._id?"put":"post";U.a[n]("/api/charts",t).then(function(e){e.data;return a.props.history.push("/dashboard")})},a.preparePayload=function(){var e=a.state,t=e._id,n=e.title,r=e.chartType,i=e.metrics,s=e.dimensions;return i=i.map(function(e){return e.value}),s=s.map(function(e){return e.value}),{_id:t,title:n,type:r.value,spec:{metrics:i,dimensions:s}}},a.handleTitleInput=function(e){var t=e.target.value;a.setState({title:t})},a.handleSelect=function(e,t){return function(n){a.setState(Object(ee.a)({},e,n||t))}},a.optionsMap={metricOptions:{},dimensionOptions:{},chartTypeOptions:{}},a.state={title:"",chartType:[],metrics:[],dimensions:[],metricOptions:[],dimensionOptions:[],chartTypeOptions:[{value:"pie",label:"Pie"},{value:"line",label:"Line"}]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"buildOptionsMap",value:function(){var e=this;["metricOptions","dimensionOptions","chartTypeOptions"].forEach(function(t){e.state[t].forEach(function(a){e.optionsMap[t][a.value]=a})})}},{key:"preFillForm",value:function(){var e=(this.props.location.state||{}).chart,t=(e=void 0===e?{}:e)._id,a=e.title,n=e.type,r=e.spec;t&&(this.buildOptionsMap(),["metrics","dimensions"].forEach(function(e){r[e]=r[e].map(function(e){return{value:e.field,label:e.label}})}),n=this.optionsMap.chartTypeOptions[n],this.setState(Object(x.a)({},{_id:t,title:a,chartType:n,metrics:r.metrics,dimensions:r.dimensions})))}},{key:"componentDidMount",value:function(){var e=Object(V.a)(H.a.mark(function e(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSelectOptions();case 2:this.preFillForm();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getSelectOptions",value:function(){var e=this;return U.a.get("/api/charts/options").then(function(){var t=Object(V.a)(H.a.mark(function t(a){var n,r,i;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.data,r=n.dimensions,i=n.metrics,t.abrupt("return",e.setState({metricOptions:i,dimensionOptions:r}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.j,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(m.C,{noGutters:!0,className:"page-header py-4"},r.a.createElement(ae,{sm:"4",title:"Chart",className:"text-sm-left"})),r.a.createElement(m.C,null,r.a.createElement(m.h,{lg:"12",className:"mb-4"},r.a.createElement(m.d,{small:!0},r.a.createElement(m.v,{flush:!0},r.a.createElement(m.w,{className:"p-3"},r.a.createElement(m.C,null,r.a.createElement(m.h,null,r.a.createElement(m.o,{onSubmit:this.handleSubmit},r.a.createElement(m.C,{form:!0},r.a.createElement(m.h,{md:"12",className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement(m.q,{id:"title",type:"text",placeholder:"Title",onChange:this.handleTitleInput,value:this.state.title})),r.a.createElement(m.h,{md:"12",className:"form-group"},r.a.createElement("label",{htmlFor:"chartType"},"Chart Type"),r.a.createElement(ne.a,{id:"chartType",placeholder:"Chart Type",value:this.state.chartType,onChange:this.handleSelect("chartType",""),options:this.state.chartTypeOptions}))),r.a.createElement(m.C,{form:!0},r.a.createElement(m.h,{md:"12",className:"form-group"},r.a.createElement("label",{htmlFor:"metrics"},"Metrics"),r.a.createElement(ne.a,{id:"metrics",placeholder:"Metrics",closeMenuOnSelect:!1,onChange:this.handleSelect("metrics",[]),value:this.state.metrics,isMulti:!0,options:this.state.metricOptions}))),r.a.createElement(m.C,null,r.a.createElement(m.h,{md:"12",className:"form-group"},r.a.createElement("label",{htmlFor:"dimensions"},"Dimensions"),r.a.createElement(ne.a,{id:"dimensions",placeholder:"Dimensions",closeMenuOnSelect:!1,onChange:this.handleSelect("dimensions",[]),value:this.state.dimensions,isMulti:!0,options:this.state.dimensionOptions}))),r.a.createElement(m.b,{onClick:this.props.history.goBack,theme:"danger",className:"mb-2 mr-1"},"Cancel"),r.a.createElement(m.b,{type:"submit",theme:"primary",className:"mb-2 mr-1"},"Save")))))))))))}}]),t}(r.a.Component),ie=a(125),se=a.n(ie),oe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).handleStart=function(){a.setState({disabledStart:!0},function(){a.props.onStart(a.state)})},a.handleShowNotation=function(e){var t=e.target.checked;a.setState({showNotation:t,disabledStart:!1})},a.handlePieceCount=function(e){var t=e.target.value;a.setState({pieceCount:t,disabledStart:!1})},a.handleOrientation=function(e){var t=e.target.value;a.setState({orientation:t,disabledStart:!1})},a.state={orientation:"white",pieceCount:3,showNotation:!1,disabledStart:!1},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(m.d,{small:!0,className:"mb-3"},r.a.createElement(m.g,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0"},"Settings")),r.a.createElement(m.e,null,r.a.createElement(m.v,{flush:!0},r.a.createElement(m.w,{className:"p-0 px-3 pt-3"},r.a.createElement(m.C,{className:"form-group"},r.a.createElement("label",{htmlFor:"piece-count"},"Number of Pieces"),r.a.createElement(m.q,{value:this.state.pieceCount,min:"3",id:"piece-count",type:"number",onChange:this.handlePieceCount})),r.a.createElement(m.C,{className:"form-group"},r.a.createElement("label",{htmlFor:"orientation"},"Orientation"),r.a.createElement(m.r,{onChange:this.handleOrientation,id:"orientation"},r.a.createElement("option",null,"White"),r.a.createElement("option",null,"Black"))),r.a.createElement(m.C,{className:"form-group"},r.a.createElement(m.p,{onChange:this.handleShowNotation},"Show Notation")),r.a.createElement(m.C,null,r.a.createElement(m.b,{disabled:this.state.disabledStart,onClick:this.handleStart},"Start"))))),r.a.createElement(m.e,{className:"p-0"}))}}]),t}(n.Component),ce="memorize",le="checkanswer",me="answer",ue=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).buttonDisabled=function(e){var t=a.props.mode;switch(e){case"next":return t!==le;case"ready":return t!==ce;case"submit":return t!==me}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(m.c,{className:"col-lg-6"},r.a.createElement(m.b,{size:this.props.size,disabled:this.buttonDisabled("next"),theme:"success",onClick:this.props.handleNext},"Next"),r.a.createElement(m.b,{size:this.props.size,disabled:this.buttonDisabled("ready"),theme:"warning",onClick:this.props.handleReady},"Ready"),r.a.createElement(m.b,{size:this.props.size,disabled:this.buttonDisabled("submit"),theme:"info",onClick:this.props.handleSubmit},"Submit"))}}]),t}(n.Component),he="memorize",de="checkanswer",pe="loading",be="answer",fe=[{path:"/",exact:!0,layout:F,component:function(){return r.a.createElement(l.a,{to:"/dashboard"})}},{path:"/dashboard",layout:F,component:Z},{path:"/visualization",layout:F,component:function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).handleNext=Object(V.a)(H.a.mark(function e(){var t;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getRandomPosition();case 2:t=e.sent,a.setMemorizeMode(t);case 4:case"end":return e.stop()}},e)})),a.setMemorizeMode=function(e){return a.setState({position:e,mode:he,draggable:!1,squareStyles:{}})},a.setAnswerMode=function(){a.setState({mode:be,position:"",draggable:!0,sparePieces:!0})},a.setCheckAnswerMode=function(e){a.setState({mode:de,squareStyles:e})},a.getRandomPosition=function(){return U.a.get("/api/positions/random",{params:{pieceCount:a.state.settings.pieceCount}}).then(function(e){return e.data.fen})},a.handleOnStart=function(e){a.setState({settings:e},Object(V.a)(H.a.mark(function e(){var t;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getRandomPosition();case 2:t=e.sent,a.setMemorizeMode(t);case 4:case"end":return e.stop()}},e)})))},a.handleSubmit=function(){var e=a.getFullBoardPosition(a.solution),t=a.getFullBoardPosition(a.answer),n=a.getSquareStyles(e,t);a.setCheckAnswerMode(n)},a.getSquareStyles=function(e,t){var a={};return Object.keys(e).filter(function(n){e[n]===t[n]?null!==e[n]&&(a[n]={backgroundColor:"green"}):a[n]={backgroundColor:"red"}}),a},a.getFullBoardPosition=function(e){var t={};return["a","b","c","d","e","f","g","h"].forEach(function(a){for(var n=1;n<9;n++){var r="".concat(a).concat(n);t[r]=e[r]||null}}),t},a.getCurrentPosition=function(e){a.state.mode===he?a.solution=e:(a.answer=e,a.setState({position:e}))},a.state={settings:{},mode:pe,position:"",draggable:!1,squareStyles:{}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(m.j,null,r.a.createElement(m.C,{noGutters:!0,className:"page-header py-4"},r.a.createElement(ae,{lg:"4",title:"Visualization",className:"text-sm-left"})),r.a.createElement(m.C,null,r.a.createElement(m.h,{lg:"4"},r.a.createElement(oe,{onStart:this.handleOnStart})),r.a.createElement(m.h,{lg:"8"},r.a.createElement(m.d,null,r.a.createElement(m.C,null,r.a.createElement(m.h,{className:"row justify-content-md-center"},r.a.createElement(se.a,{width:460,orientation:this.state.settings.orientation,showNotation:this.state.settings.showNotation,draggable:this.state.draggable,squareStyles:this.state.squareStyles,position:this.state.position,sparePieces:!0,getPosition:this.getCurrentPosition}))),r.a.createElement(m.C,{className:"mt-3 pb-3"},r.a.createElement(m.h,{lg:"12",className:"justify-content-md-center d-flex"},r.a.createElement(ue,{size:"md",mode:this.state.mode,handleReady:this.setAnswerMode,handleNext:this.handleNext,handleSubmit:this.handleSubmit})))))))}}]),t}(n.Component)},{path:"/chart",layout:F,component:re}];a(180),a(182),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(function(){return r.a.createElement(o.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_BASENAME||""},r.a.createElement("div",null,fe.map(function(e,t){return r.a.createElement(c.a,{key:t,path:e.path,exact:e.exact,render:function(t){return r.a.createElement(e.layout,t,r.a.createElement(e.component,t))}})})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[127,2,1]]]);
//# sourceMappingURL=main.882c2a32.chunk.js.map